spring:
  application:
    name: @project.artifactId@
    version: @project.version@

  profiles:
    active: @profileActive@

  cloud:
    config: # 从配置中心拉取配置文件
      enabled: true
      fail-fast: true
      uri: http://localhost:8888/
      username: user
      password: ${CONFIG_SERVER_PASSWORD:password}
      profile: ${spring.profiles.active}
      label: master
      discovery:
        enable: true
        service-id: config-server #Config Server端的服务名字，不能瞎写
      retry: # 配置中心失败重试
        initial-interval: 2000 #最初重试间隔
        max-interval: 10000 #最长重试间隔
        multiplier: 1.2 #每次重试失败后，重试间隔所增加的倍数
        max-attempts: 10 #最多重试次数

  rabbitmq: # 配置消息总线
    host: localhost
    port: 5672
    username: guest
    password: guest
    virtual-host: zipkin

  datasource:
    url: jdbc:h2:mem:user
    driver-class-name: org.h2.Driver
  jpa:
    show-sql: true

# 注册服务到注册中心
eureka:
  instance:
    hostname: register-center
    prefer-ip-address: true
    health-check-url-path: ${server.context-path}${management.context-path}/health
    status-page-url-path: ${server.context-path}${management.context-path}/info
    metadata-map:
      user.name: ${spring.security.user.name}
      user.password: ${spring.security.user.password}
      management.context-path: ${server.context-path}${management.context-path}
  client:
    service-url:
      defaultZone: http://${REGISTER_CENTER_USERNAME:register}:${REGISTER_CENTER_PASSWORD:register}@localhost:8860/eureka/

management:
  endpoints:
    web:
      exposure:
        include: '*'
    health:
      show-details: ALWAYS
  server:
    servlet:
      context-path: /
    ssl:
      enabled: false

