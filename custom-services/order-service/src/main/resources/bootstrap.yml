spring:
  application:
    name: order-service

  cloud:
    config:
      enabled: true
      uri: http://localhost:8888/
      profile: dev
      label: master
      discovery:
        enable: true
        service-id: config-server
      retry: # 配置中心失败重试
        initial-interval: 2000 #最初重试间隔
        max-interval: 10000 #最长重试间隔
        multiplier: 1.2 #每次重试失败后，重试间隔所增加的倍数
        max-attempts: 10 #最多重试次数

    bus:
      enabled: true
      trace:
        enabled: true

  rabbitmq:
    host: localhost
    port: 5672
    username: guest
    password: guest

  zipkin:
    enabled: true # 启用 Zipkin 链路追踪
    locator:
      discovery:
        enabled: true  # 通过注册中心发现服务 ID
    compression:
      enabled: true # 压缩数据
    sender:
      type: rabbit
    rabbitmq:
      topic: zipkin

  sleuth:
    enabled: true
    sampler:
      probability: 1.0
    web:
      client:
        enabled: true

management:
  endpoints:
    web:
      exposure:
        include: bus-refres
  server:
    servlet:
      context-path: /